---
title: 微信支付（简介，只有流程，没有代码）
icon: fab fa-markdown
order: 2
category:
  - 使用指南
tag:
  - Markdown
---
# 微信支付

微信支付大致流程：

首先由客户选择商品，生成订单，后端接收订单把数据存储到数据库，然后后端需要给客户返回相应的订单的id和订单号，用户确认完订单信息点击结算订单会发起支付请求，此时后端接收到支付请求，

后端需要携带一系列参数（具体参数详见：https://pay.weixin.qq.com/static/product/product_index.shtml）向微信支付平台请求支付，平台确认完信息会给后端返回预支付交易的prepay_id，后端再把前端（或者小程序）需要的支付参数进行封装，然后把封装好的前端需要支付参数返回，前端调起支付，向微信支付平台发请求，微信支付平台确认之后把回调服务返回给后端，把回调小程序结果返回给前端即可。

